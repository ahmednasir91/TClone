<!DOCTYPE html>
<html>
<head>
    <title>Twitter Clone</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="description" content="Instantly connect to what's most important to you. Follow your friends, experts, favorite celebrities, and breaking news.">
    <link href="~/Content/favicon.ico" rel="shortcut icon" type="image/x-icon">
    @Styles.Render("~/Content/css/twitterstyle")
    @RenderSection("styles", false)
    @{
        var loginclass = "logged-out";
        if (Request.IsAuthenticated)
        {
            loginclass = "logged-in";
            ViewBag.BackgroundImage = Model.GetBackgroundImage() ?? "/Content/themes/bgs/theme1.png";
            ViewBag.BackgroundColor = Model.BackgroundColor ?? "#C0DEED";
            ViewBag.Tiled = Model.Tiled ?? "false";
            ViewBag.Tiled = ViewBag.Tiled.ToString().ToLower();
            ViewBag.LinkColor = Model.LinkColor ?? "#0084B4";
        }
    }
</head>
<body class="t1 @loginclass" data-background="@ViewBag.BackgroundImage" data-background-color="@ViewBag.BackgroundColor" data-tiled="@ViewBag.Tiled" data-link-color="@ViewBag.LinkColor">
    <div id="doc" class="route-front">
        <div class="push-loader" id="pushStateSpinner"></div>
        <div class="topbar js-topbar">
            <div id="banners" class="js-banners">
            </div>
            @Html.Partial("Navbar")
        </div>
        <div id="page-outer">
            <section id="@ViewBag.Page" class="@ViewBag.PageClass">
                @RenderBody()
            </section>
        </div>
    </div>
    <div class="modal-overlay"></div>

    <!-- Lists Dialog -->
    <div id="list-operations-dialog" data-modal="true" class="modal-container">
        <div class="close-modal-background-target"></div>
        <div class="modal modal-medium draggable" style="top: 126px; left: 433px; position: absolute;">
            <div class="modal-content">
                <button class="modal-btn modal-close"><i class="close-medium"><span class="hidden-elements">Close</span></i></button>
                <div class="modal-header">
                    <h3 class="modal-title">Create a new list</h3>
                </div>
                @using (Html.BeginForm("NewList", "Home", FormMethod.Post, new {id = "NewListForm"}))
                {
                    <div class="modal-body">
                        <div class="list-editor">
                            <div class="field">
                                <label for="ListName">List name</label>
                                <input type="text" class="text" id="ListName" name="ListName" value="">
                            </div>
                            <hr>
                            <div class="field">
                                <label for="Description">Description</label>
                                <textarea name="Description"></textarea>
                                <span class="help-text">Under 100 characters, optional</span>
                            </div>
                            <hr>

                            <div class="field">
                                <label for="Privacy">Privacy</label>
                                <div class="options">
                                    <label for="list-public-radio">
                                        <input class="radio" type="radio" name="Privacy" id="list-public-radio" value="public" checked="checked">
                                        <b>Public</b> · Anyone can follow this list
                                    </label>
                                    <label for="list-private-radio">
                                        <input class="radio" type="radio" name="Privacy" id="list-private-radio" value="private">
                                        <b>Private</b> · Only you can access this list
                                    </label>
                                </div>
                            </div>
                            <hr>
                            <div class="list-editor-save">
                                <input value="Save List" type="submit" class="button btn btn-primary update-list-button disabled" data-list-id="" />
                            </div>
                        </div>
                    </div>
                }

            </div>
        </div>
    </div>

    <!-- /Lists Dialog -->
    <!-- New Tweet Dialog -->
    <div id="global-tweet-dialog" class="modal-container" data-modal="true" style="display: none;">
        <div class="close-modal-background-target"></div>
        <div class="modal draggable" style="left: 423px;">
            <div class="modal-content">
                <button type="button" class="modal-btn modal-close"><i class="close-medium"><span class="hidden-elements">Close</span></i></button>
  
                <div class="modal-header">
                    <h3 class="modal-title">What's happening?</h3>
                </div>
  
                <div class="modal-body">
                    <form class="tweet-form" method="post" target="tweet-post-iframe" action="//upload.twitter.com/i/tweet/create_with_media.iframe" enctype="multipart/form-data">
                      <div class="tweet-content">
                            <label class="hidden-elements" for="tweet-box-global">Tweet text</label>
                            <textarea class="tweet-box" id="tweet-box-global" dir="ltr" style="" data-bind="value: message, valueUpdate: 'afterkeydown'"></textarea>
          
                            <ul class="dropdown-menu autocomplete-results" style="display: none;">
                                <li class="dropdown-link dropdown-account template-row autocomplete-item">
                                    <img width="24" height="24" class="avatar size24">
                                    <strong class="fullname"></strong>
                                    <span class="pretty-link"><small>@@</small><b class="username"></b></span>
                                </li>
                            </ul>
              
                            <div class="thumbnail-container">
                                <div class="preview">
                                    <a class="dismiss js-dismiss" href="#" tabindex="-1"><i class="dismiss-white"></i></a>
                                    <span class="filename"></span>
                                </div>
                                <div class="preview-message">Image will appear as a link</div>
                            </div>
          
                        </div>
          
                        <div class="toolbar js-toolbar" role="toolbar">
                            <div class="tweet-box-extras">
          
                       </div>
                            <div class="tweet-button">
                                <span class="spinner"></span>
                                <span class="tweet-counter" data-bind="text: tweetcount">140</span>
                                <button class="btn primary-btn tweet-action" type="button" data-bind="disable: tweetcount > 0, attr: {'class': btnclass}">Tweet</button>
                            </div>
                        </div>
                    </form>
                </div>
  
                <div class="modal-footer modal-tweet" style="display: none;"></div>
            </div>
        </div>
    </div>
    <!-- /New Tweet Dialog -->
    <section id="modals-alerts">

        <div class="alert-messages hidden" id="message-drawer">
            <div class="message ">
                <div class="message-inside">
                    <span class="message-text">@ViewBag.AlertMessage</span><a class="dismiss" href="#">×</a>
                </div>
            </div>
        </div>

    </section>
    <div class="twttr-dialog-wrapper"></div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryval")
      <script type="text/javascript">
          (function ($) {
              /*! jQuery UI 1.8.22 (c) 2012 http://jqueryui.com/about http://jquery.org/license */(function ($, a) { function b(a, b) { var d = a.nodeName.toLowerCase(); if ("area" === d) { var e = a.parentNode, f = e.name, g; return !a.href || !f || e.nodeName.toLowerCase() !== "map" ? !1 : (g = $("img[usemap=#" + f + "]")[0], !!g && c(g)) } return (/input|select|textarea|button|object/.test(d) ? !a.disabled : "a" == d ? a.href || b : b) && c(a) } function c(a) { return !$(a).parents().andSelf().filter(function () { return $.curCSS(this, "visibility") === "hidden" || $.expr.filters.hidden(this) }).length } $.ui = $.ui || {}; if ($.ui.version) return; $.extend($.ui, { version: "1.8.22", keyCode: { ALT: 18, BACKSPACE: 8, CAPS_LOCK: 20, COMMA: 188, COMMAND: 91, COMMAND_LEFT: 91, COMMAND_RIGHT: 93, CONTROL: 17, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, MENU: 93, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106, NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SHIFT: 16, SPACE: 32, TAB: 9, UP: 38, WINDOWS: 91 } }), $.fn.extend({ propAttr: $.fn.prop || $.fn.attr, _focus: $.fn.focus, focus: function (a, b) { return typeof a == "number" ? this.each(function () { var c = this; setTimeout(function () { $(c).focus(), b && b.call(c) }, a) }) : this._focus.apply(this, arguments) }, scrollParent: function () { var a; return $.browser.msie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? a = this.parents().filter(function () { return /(relative|absolute|fixed)/.test($.curCSS(this, "position", 1)) && /(auto|scroll)/.test($.curCSS(this, "overflow", 1) + $.curCSS(this, "overflow-y", 1) + $.curCSS(this, "overflow-x", 1)) }).eq(0) : a = this.parents().filter(function () { return /(auto|scroll)/.test($.curCSS(this, "overflow", 1) + $.curCSS(this, "overflow-y", 1) + $.curCSS(this, "overflow-x", 1)) }).eq(0), /fixed/.test(this.css("position")) || !a.length ? $(document) : a }, zIndex: function (b) { if (b !== a) return this.css("zIndex", b); if (this.length) { var c = $(this[0]), d, e; while (c.length && c[0] !== document) { d = c.css("position"); if (d === "absolute" || d === "relative" || d === "fixed") { e = parseInt(c.css("zIndex"), 10); if (!isNaN(e) && e !== 0) return e } c = c.parent() } } return 0 }, disableSelection: function () { return this.bind(($.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (a) { a.preventDefault() }) }, enableSelection: function () { return this.unbind(".ui-disableSelection") } }), $("<a>").outerWidth(1).jquery || $.each(["Width", "Height"], function (b, c) { function g(a, b, c, e) { return $.each(d, function () { b -= parseFloat($.curCSS(a, "padding" + this, !0)) || 0, c && (b -= parseFloat($.curCSS(a, "border" + this + "Width", !0)) || 0), e && (b -= parseFloat($.curCSS(a, "margin" + this, !0)) || 0) }), b } var d = c === "Width" ? ["Left", "Right"] : ["Top", "Bottom"], e = c.toLowerCase(), f = { innerWidth: $.fn.innerWidth, innerHeight: $.fn.innerHeight, outerWidth: $.fn.outerWidth, outerHeight: $.fn.outerHeight }; $.fn["inner" + c] = function (b) { return b === a ? f["inner" + c].call(this) : this.each(function () { $(this).css(e, g(this, b) + "px") }) }, $.fn["outer" + c] = function (a, b) { return typeof a != "number" ? f["outer" + c].call(this, a) : this.each(function () { $(this).css(e, g(this, a, !0, b) + "px") }) } }), $.extend($.expr[":"], { data: $.expr.createPseudo ? $.expr.createPseudo(function (a) { return function (b) { return !!$.data(b, a) } }) : function (a, b, c) { return !!$.data(a, c[3]) }, focusable: function (a) { return b(a, !isNaN($.attr(a, "tabindex"))) }, tabbable: function (a) { var c = $.attr(a, "tabindex"), d = isNaN(c); return (d || c >= 0) && b(a, !d) } }), $(function () { var a = document.body, b = a.appendChild(b = document.createElement("div")); b.offsetHeight, $.extend(b.style, { minHeight: "100px", height: "auto", padding: 0, borderWidth: 0 }), $.support.minHeight = b.offsetHeight === 100, $.support.selectstart = "onselectstart" in b, a.removeChild(b).style.display = "none" }), $.curCSS || ($.curCSS = $.css), $.extend($.ui, { plugin: { add: function (a, b, c) { var d = $.ui[a].prototype; for (var e in c) d.plugins[e] = d.plugins[e] || [], d.plugins[e].push([b, c[e]]) }, call: function (a, b, c) { var d = a.plugins[b]; if (!d || !a.element[0].parentNode) return; for (var e = 0; e < d.length; e++) a.options[d[e][0]] && d[e][1].apply(a.element, c) } }, contains: function (a, b) { return document.compareDocumentPosition ? a.compareDocumentPosition(b) & 16 : a !== b && a.contains(b) }, hasScroll: function (a, b) { if ($(a).css("overflow") === "hidden") return !1; var c = b && b === "left" ? "scrollLeft" : "scrollTop", d = !1; return a[c] > 0 ? !0 : (a[c] = 1, d = a[c] > 0, a[c] = 0, d) }, isOverAxis: function (a, b, c) { return a > b && a < b + c }, isOver: function (a, b, c, d, e, f) { return $.ui.isOverAxis(a, c, e) && $.ui.isOverAxis(b, d, f) } }) })(jQuery), function ($, a) { if ($.cleanData) { var b = $.cleanData; $.cleanData = function (a) { for (var c = 0, d; (d = a[c]) != null; c++) try { $(d).triggerHandler("remove") } catch (e) { } b(a) } } else { var c = $.fn.remove; $.fn.remove = function (a, b) { return this.each(function () { return b || (!a || $.filter(a, [this]).length) && $("*", this).add([this]).each(function () { try { $(this).triggerHandler("remove") } catch (a) { } }), c.call($(this), a, b) }) } } $.widget = function (a, b, c) { var d = a.split(".")[0], e; a = a.split(".")[1], e = d + "-" + a, c || (c = b, b = $.Widget), $.expr[":"][e] = function (b) { return !!$.data(b, a) }, $[d] = $[d] || {}, $[d][a] = function (a, b) { arguments.length && this._createWidget(a, b) }; var f = new b; f.options = $.extend(!0, {}, f.options), $[d][a].prototype = $.extend(!0, f, { namespace: d, widgetName: a, widgetEventPrefix: $[d][a].prototype.widgetEventPrefix || a, widgetBaseClass: e }, c), $.widget.bridge(a, $[d][a]) }, $.widget.bridge = function (b, c) { $.fn[b] = function (d) { var e = typeof d == "string", f = Array.prototype.slice.call(arguments, 1), g = this; return d = !e && f.length ? $.extend.apply(null, [!0, d].concat(f)) : d, e && d.charAt(0) === "_" ? g : (e ? this.each(function () { var c = $.data(this, b), e = c && $.isFunction(c[d]) ? c[d].apply(c, f) : c; if (e !== c && e !== a) return g = e, !1 }) : this.each(function () { var a = $.data(this, b); a ? a.option(d || {})._init() : $.data(this, b, new c(d, this)) }), g) } }, $.Widget = function (a, b) { arguments.length && this._createWidget(a, b) }, $.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", options: { disabled: !1 }, _createWidget: function (a, b) { $.data(b, this.widgetName, this), this.element = $(b), this.options = $.extend(!0, {}, this.options, this._getCreateOptions(), a); var c = this; this.element.bind("remove." + this.widgetName, function () { c.destroy() }), this._create(), this._trigger("create"), this._init() }, _getCreateOptions: function () { return $.metadata && $.metadata.get(this.element[0])[this.widgetName] }, _create: function () { }, _init: function () { }, destroy: function () { this.element.unbind("." + this.widgetName).removeData(this.widgetName), this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled " + "ui-state-disabled") }, widget: function () { return this.element }, option: function (b, c) { var d = b; if (arguments.length === 0) return $.extend({}, this.options); if (typeof b == "string") { if (c === a) return this.options[b]; d = {}, d[b] = c } return this._setOptions(d), this }, _setOptions: function (a) { var b = this; return $.each(a, function (a, c) { b._setOption(a, c) }), this }, _setOption: function (a, b) { return this.options[a] = b, a === "disabled" && this.widget()[b ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled" + " " + "ui-state-disabled").attr("aria-disabled", b), this }, enable: function () { return this._setOption("disabled", !1) }, disable: function () { return this._setOption("disabled", !0) }, _trigger: function (a, b, c) { var d, e, f = this.options[a]; c = c || {}, b = $.Event(b), b.type = (a === this.widgetEventPrefix ? a : this.widgetEventPrefix + a).toLowerCase(), b.target = this.element[0], e = b.originalEvent; if (e) for (d in e) d in b || (b[d] = e[d]); return this.element.trigger(b, c), !($.isFunction(f) && f.call(this.element[0], b, c) === !1 || b.isDefaultPrevented()) } } }(jQuery), function ($, a) { var b = !1; $(document).mouseup(function (a) { b = !1 }), $.widget("ui.mouse", { options: { cancel: ":input,option", distance: 1, delay: 0 }, _mouseInit: function () { var a = this; this.element.bind("mousedown." + this.widgetName, function (b) { return a._mouseDown(b) }).bind("click." + this.widgetName, function (b) { if (!0 === $.data(b.target, a.widgetName + ".preventClickEvent")) return $.removeData(b.target, a.widgetName + ".preventClickEvent"), b.stopImmediatePropagation(), !1 }), this.started = !1 }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName), $(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate) }, _mouseDown: function (a) { if (b) return; this._mouseStarted && this._mouseUp(a), this._mouseDownEvent = a; var c = this, d = a.which == 1, e = typeof this.options.cancel == "string" && a.target.nodeName ? $(a.target).closest(this.options.cancel).length : !1; if (!d || e || !this._mouseCapture(a)) return !0; this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function () { c.mouseDelayMet = !0 }, this.options.delay)); if (this._mouseDistanceMet(a) && this._mouseDelayMet(a)) { this._mouseStarted = this._mouseStart(a) !== !1; if (!this._mouseStarted) return a.preventDefault(), !0 } return !0 === $.data(a.target, this.widgetName + ".preventClickEvent") && $.removeData(a.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function (a) { return c._mouseMove(a) }, this._mouseUpDelegate = function (a) { return c._mouseUp(a) }, $(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), a.preventDefault(), b = !0, !0 }, _mouseMove: function (a) { return !$.browser.msie || document.documentMode >= 9 || !!a.button ? this._mouseStarted ? (this._mouseDrag(a), a.preventDefault()) : (this._mouseDistanceMet(a) && this._mouseDelayMet(a) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, a) !== !1, this._mouseStarted ? this._mouseDrag(a) : this._mouseUp(a)), !this._mouseStarted) : this._mouseUp(a) }, _mouseUp: function (a) { return $(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, a.target == this._mouseDownEvent.target && $.data(a.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(a)), !1 }, _mouseDistanceMet: function (a) { return Math.max(Math.abs(this._mouseDownEvent.pageX - a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance }, _mouseDelayMet: function (a) { return this.mouseDelayMet }, _mouseStart: function (a) { }, _mouseDrag: function (a) { }, _mouseStop: function (a) { }, _mouseCapture: function (a) { return !0 } }) }(jQuery), function ($, a) { $.widget("ui.draggable", $.ui.mouse, { widgetEventPrefix: "drag", options: { addClasses: !0, appendTo: "parent", axis: !1, connectToSortable: !1, containment: !1, cursor: "auto", cursorAt: !1, grid: !1, handle: !1, helper: "original", iframeFix: !1, opacity: !1, refreshPositions: !1, revert: !1, revertDuration: 500, scope: "default", scroll: !0, scrollSensitivity: 20, scrollSpeed: 20, snap: !1, snapMode: "both", snapTolerance: 20, stack: !1, zIndex: !1 }, _create: function () { this.options.helper == "original" && !/^(?:r|a|f)/.test(this.element.css("position")) && (this.element[0].style.position = "relative"), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._mouseInit() }, destroy: function () { if (!this.element.data("draggable")) return; return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._mouseDestroy(), this }, _mouseCapture: function (a) { var b = this.options; return this.helper || b.disabled || $(a.target).is(".ui-resizable-handle") ? !1 : (this.handle = this._getHandle(a), this.handle ? (b.iframeFix && $(b.iframeFix === !0 ? "iframe" : b.iframeFix).each(function () { $('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({ width: this.offsetWidth + "px", height: this.offsetHeight + "px", position: "absolute", opacity: "0.001", zIndex: 1e3 }).css($(this).offset()).appendTo("body") }), !0) : !1) }, _mouseStart: function (a) { var b = this.options; return this.helper = this._createHelper(a), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), $.ui.ddmanager && ($.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offset = this.positionAbs = this.element.offset(), this.offset = { top: this.offset.top - this.margins.top, left: this.offset.left - this.margins.left }, $.extend(this.offset, { click: { left: a.pageX - this.offset.left, top: a.pageY - this.offset.top }, parent: this._getParentOffset(), relative: this._getRelativeOffset() }), this.originalPosition = this.position = this._generatePosition(a), this.originalPageX = a.pageX, this.originalPageY = a.pageY, b.cursorAt && this._adjustOffsetFromHelper(b.cursorAt), b.containment && this._setContainment(), this._trigger("start", a) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), $.ui.ddmanager && !b.dropBehaviour && $.ui.ddmanager.prepareOffsets(this, a), this._mouseDrag(a, !0), $.ui.ddmanager && $.ui.ddmanager.dragStart(this, a), !0) }, _mouseDrag: function (a, b) { this.position = this._generatePosition(a), this.positionAbs = this._convertPositionTo("absolute"); if (!b) { var c = this._uiHash(); if (this._trigger("drag", a, c) === !1) return this._mouseUp({}), !1; this.position = c.position } if (!this.options.axis || this.options.axis != "y") this.helper[0].style.left = this.position.left + "px"; if (!this.options.axis || this.options.axis != "x") this.helper[0].style.top = this.position.top + "px"; return $.ui.ddmanager && $.ui.ddmanager.drag(this, a), !1 }, _mouseStop: function (a) { var b = !1; $.ui.ddmanager && !this.options.dropBehaviour && (b = $.ui.ddmanager.drop(this, a)), this.dropped && (b = this.dropped, this.dropped = !1); var c = this.element[0], d = !1; while (c && (c = c.parentNode)) c == document && (d = !0); if (!d && this.options.helper === "original") return !1; if (this.options.revert == "invalid" && !b || this.options.revert == "valid" && b || this.options.revert === !0 || $.isFunction(this.options.revert) && this.options.revert.call(this.element, b)) { var e = this; $(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function () { e._trigger("stop", a) !== !1 && e._clear() }) } else this._trigger("stop", a) !== !1 && this._clear(); return !1 }, _mouseUp: function (a) { return this.options.iframeFix === !0 && $("div.ui-draggable-iframeFix").each(function () { this.parentNode.removeChild(this) }), $.ui.ddmanager && $.ui.ddmanager.dragStop(this, a), $.ui.mouse.prototype._mouseUp.call(this, a) }, cancel: function () { return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this }, _getHandle: function (a) { var b = !this.options.handle || !$(this.options.handle, this.element).length ? !0 : !1; return $(this.options.handle, this.element).find("*").andSelf().each(function () { this == a.target && (b = !0) }), b }, _createHelper: function (a) { var b = this.options, c = $.isFunction(b.helper) ? $(b.helper.apply(this.element[0], [a])) : b.helper == "clone" ? this.element.clone().removeAttr("id") : this.element; return c.parents("body").length || c.appendTo(b.appendTo == "parent" ? this.element[0].parentNode : b.appendTo), c[0] != this.element[0] && !/(fixed|absolute)/.test(c.css("position")) && c.css("position", "absolute"), c }, _adjustOffsetFromHelper: function (a) { typeof a == "string" && (a = a.split(" ")), $.isArray(a) && (a = { left: +a[0], top: +a[1] || 0 }), "left" in a && (this.offset.click.left = a.left + this.margins.left), "right" in a && (this.offset.click.left = this.helperProportions.width - a.right + this.margins.left), "top" in a && (this.offset.click.top = a.top + this.margins.top), "bottom" in a && (this.offset.click.top = this.helperProportions.height - a.bottom + this.margins.top) }, _getParentOffset: function () { this.offsetParent = this.helper.offsetParent(); var a = this.offsetParent.offset(); this.cssPosition == "absolute" && this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0]) && (a.left += this.scrollParent.scrollLeft(), a.top += this.scrollParent.scrollTop()); if (this.offsetParent[0] == document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == "html" && $.browser.msie) a = { top: 0, left: 0 }; return { top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0), left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0) } }, _getRelativeOffset: function () { if (this.cssPosition == "relative") { var a = this.element.position(); return { top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(), left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft() } } return { top: 0, left: 0 } }, _cacheMargins: function () { this.margins = { left: parseInt(this.element.css("marginLeft"), 10) || 0, top: parseInt(this.element.css("marginTop"), 10) || 0, right: parseInt(this.element.css("marginRight"), 10) || 0, bottom: parseInt(this.element.css("marginBottom"), 10) || 0 } }, _cacheHelperProportions: function () { this.helperProportions = { width: this.helper.outerWidth(), height: this.helper.outerHeight() } }, _setContainment: function () { var a = this.options; a.containment == "parent" && (a.containment = this.helper[0].parentNode); if (a.containment == "document" || a.containment == "window") this.containment = [a.containment == "document" ? 0 : $(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, a.containment == "document" ? 0 : $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, (a.containment == "document" ? 0 : $(window).scrollLeft()) + $(a.containment == "document" ? document : window).width() - this.helperProportions.width - this.margins.left, (a.containment == "document" ? 0 : $(window).scrollTop()) + ($(a.containment == "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]; if (!/^(document|window|parent)$/.test(a.containment) && a.containment.constructor != Array) { var b = $(a.containment), c = b[0]; if (!c) return; var d = b.offset(), e = $(c).css("overflow") != "hidden"; this.containment = [(parseInt($(c).css("borderLeftWidth"), 10) || 0) + (parseInt($(c).css("paddingLeft"), 10) || 0), (parseInt($(c).css("borderTopWidth"), 10) || 0) + (parseInt($(c).css("paddingTop"), 10) || 0), (e ? Math.max(c.scrollWidth, c.offsetWidth) : c.offsetWidth) - (parseInt($(c).css("borderLeftWidth"), 10) || 0) - (parseInt($(c).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(c.scrollHeight, c.offsetHeight) : c.offsetHeight) - (parseInt($(c).css("borderTopWidth"), 10) || 0) - (parseInt($(c).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relative_container = b } else a.containment.constructor == Array && (this.containment = a.containment) }, _convertPositionTo: function (a, b) { b || (b = this.position); var c = a == "absolute" ? 1 : -1, d = this.options, e = this.cssPosition != "absolute" || this.scrollParent[0] != document && !!$.ui.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, f = /(html|body)/i.test(e[0].tagName); return { top: b.top + this.offset.relative.top * c + this.offset.parent.top * c - ($.browser.safari && $.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : f ? 0 : e.scrollTop()) * c), left: b.left + this.offset.relative.left * c + this.offset.parent.left * c - ($.browser.safari && $.browser.version < 526 && this.cssPosition == "fixed" ? 0 : (this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : f ? 0 : e.scrollLeft()) * c) } }, _generatePosition: function (a) { var b = this.options, c = this.cssPosition != "absolute" || this.scrollParent[0] != document && !!$.ui.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, d = /(html|body)/i.test(c[0].tagName), e = a.pageX, f = a.pageY; if (this.originalPosition) { var g; if (this.containment) { if (this.relative_container) { var h = this.relative_container.offset(); g = [this.containment[0] + h.left, this.containment[1] + h.top, this.containment[2] + h.left, this.containment[3] + h.top] } else g = this.containment; a.pageX - this.offset.click.left < g[0] && (e = g[0] + this.offset.click.left), a.pageY - this.offset.click.top < g[1] && (f = g[1] + this.offset.click.top), a.pageX - this.offset.click.left > g[2] && (e = g[2] + this.offset.click.left), a.pageY - this.offset.click.top > g[3] && (f = g[3] + this.offset.click.top) } if (b.grid) { var i = b.grid[1] ? this.originalPageY + Math.round((f - this.originalPageY) / b.grid[1]) * b.grid[1] : this.originalPageY; f = g ? i - this.offset.click.top < g[1] || i - this.offset.click.top > g[3] ? i - this.offset.click.top < g[1] ? i + b.grid[1] : i - b.grid[1] : i : i; var j = b.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / b.grid[0]) * b.grid[0] : this.originalPageX; e = g ? j - this.offset.click.left < g[0] || j - this.offset.click.left > g[2] ? j - this.offset.click.left < g[0] ? j + b.grid[0] : j - b.grid[0] : j : j } } return { top: f - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ($.browser.safari && $.browser.version < 526 && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollTop() : d ? 0 : c.scrollTop()), left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ($.browser.safari && $.browser.version < 526 && this.cssPosition == "fixed" ? 0 : this.cssPosition == "fixed" ? -this.scrollParent.scrollLeft() : d ? 0 : c.scrollLeft()) } }, _clear: function () { this.helper.removeClass("ui-draggable-dragging"), this.helper[0] != this.element[0] && !this.cancelHelperRemoval && this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1 }, _trigger: function (a, b, c) { return c = c || this._uiHash(), $.ui.plugin.call(this, a, [b, c]), a == "drag" && (this.positionAbs = this._convertPositionTo("absolute")), $.Widget.prototype._trigger.call(this, a, b, c) }, plugins: {}, _uiHash: function (a) { return { helper: this.helper, position: this.position, originalPosition: this.originalPosition, offset: this.positionAbs } } }), $.extend($.ui.draggable, { version: "1.8.22" }), $.ui.plugin.add("draggable", "connectToSortable", { start: function (a, b) { var c = $(this).data("draggable"), d = c.options, e = $.extend({}, b, { item: c.element }); c.sortables = [], $(d.connectToSortable).each(function () { var b = $.data(this, "sortable"); b && !b.options.disabled && (c.sortables.push({ instance: b, shouldRevert: b.options.revert }), b.refreshPositions(), b._trigger("activate", a, e)) }) }, stop: function (a, b) { var c = $(this).data("draggable"), d = $.extend({}, b, { item: c.element }); $.each(c.sortables, function () { this.instance.isOver ? (this.instance.isOver = 0, c.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = !0), this.instance._mouseStop(a), this.instance.options.helper = this.instance.options._helper, c.options.helper == "original" && this.instance.currentItem.css({ top: "auto", left: "auto" })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", a, d)) }) }, drag: function (a, b) { var c = $(this).data("draggable"), d = this, e = function (a) { var b = this.offset.click.top, c = this.offset.click.left, d = this.positionAbs.top, e = this.positionAbs.left, f = a.height, g = a.width, h = a.top, i = a.left; return $.ui.isOver(d + b, e + c, h, i, f, g) }; $.each(c.sortables, function (e) { this.instance.positionAbs = c.positionAbs, this.instance.helperProportions = c.helperProportions, this.instance.offset.click = c.offset.click, this.instance._intersectsWith(this.instance.containerCache) ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = $(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function () { return b.helper[0] }, a.target = this.instance.currentItem[0], this.instance._mouseCapture(a, !0), this.instance._mouseStart(a, !0, !0), this.instance.offset.click.top = c.offset.click.top, this.instance.offset.click.left = c.offset.click.left, this.instance.offset.parent.left -= c.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= c.offset.parent.top - this.instance.offset.parent.top, c._trigger("toSortable", a), c.dropped = this.instance.element, c.currentItem = c.element, this.instance.fromOutside = c), this.instance.currentItem && this.instance._mouseDrag(a)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", a, this.instance._uiHash(this.instance)), this.instance._mouseStop(a, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), c._trigger("fromSortable", a), c.dropped = !1) }) } }), $.ui.plugin.add("draggable", "cursor", { start: function (a, b) { var c = $("body"), d = $(this).data("draggable").options; c.css("cursor") && (d._cursor = c.css("cursor")), c.css("cursor", d.cursor) }, stop: function (a, b) { var c = $(this).data("draggable").options; c._cursor && $("body").css("cursor", c._cursor) } }), $.ui.plugin.add("draggable", "opacity", { start: function (a, b) { var c = $(b.helper), d = $(this).data("draggable").options; c.css("opacity") && (d._opacity = c.css("opacity")), c.css("opacity", d.opacity) }, stop: function (a, b) { var c = $(this).data("draggable").options; c._opacity && $(b.helper).css("opacity", c._opacity) } }), $.ui.plugin.add("draggable", "scroll", { start: function (a, b) { var c = $(this).data("draggable"); c.scrollParent[0] != document && c.scrollParent[0].tagName != "HTML" && (c.overflowOffset = c.scrollParent.offset()) }, drag: function (a, b) { var c = $(this).data("draggable"), d = c.options, e = !1; if (c.scrollParent[0] != document && c.scrollParent[0].tagName != "HTML") { if (!d.axis || d.axis != "x") c.overflowOffset.top + c.scrollParent[0].offsetHeight - a.pageY < d.scrollSensitivity ? c.scrollParent[0].scrollTop = e = c.scrollParent[0].scrollTop + d.scrollSpeed : a.pageY - c.overflowOffset.top < d.scrollSensitivity && (c.scrollParent[0].scrollTop = e = c.scrollParent[0].scrollTop - d.scrollSpeed); if (!d.axis || d.axis != "y") c.overflowOffset.left + c.scrollParent[0].offsetWidth - a.pageX < d.scrollSensitivity ? c.scrollParent[0].scrollLeft = e = c.scrollParent[0].scrollLeft + d.scrollSpeed : a.pageX - c.overflowOffset.left < d.scrollSensitivity && (c.scrollParent[0].scrollLeft = e = c.scrollParent[0].scrollLeft - d.scrollSpeed) } else { if (!d.axis || d.axis != "x") a.pageY - $(document).scrollTop() < d.scrollSensitivity ? e = $(document).scrollTop($(document).scrollTop() - d.scrollSpeed) : $(window).height() - (a.pageY - $(document).scrollTop()) < d.scrollSensitivity && (e = $(document).scrollTop($(document).scrollTop() + d.scrollSpeed)); if (!d.axis || d.axis != "y") a.pageX - $(document).scrollLeft() < d.scrollSensitivity ? e = $(document).scrollLeft($(document).scrollLeft() - d.scrollSpeed) : $(window).width() - (a.pageX - $(document).scrollLeft()) < d.scrollSensitivity && (e = $(document).scrollLeft($(document).scrollLeft() + d.scrollSpeed)) } e !== !1 && $.ui.ddmanager && !d.dropBehaviour && $.ui.ddmanager.prepareOffsets(c, a) } }), $.ui.plugin.add("draggable", "snap", { start: function (a, b) { var c = $(this).data("draggable"), d = c.options; c.snapElements = [], $(d.snap.constructor != String ? d.snap.items || ":data(draggable)" : d.snap).each(function () { var a = $(this), b = a.offset(); this != c.element[0] && c.snapElements.push({ item: this, width: a.outerWidth(), height: a.outerHeight(), top: b.top, left: b.left }) }) }, drag: function (a, b) { var c = $(this).data("draggable"), d = c.options, e = d.snapTolerance, f = b.offset.left, g = f + c.helperProportions.width, h = b.offset.top, i = h + c.helperProportions.height; for (var j = c.snapElements.length - 1; j >= 0; j--) { var k = c.snapElements[j].left, l = k + c.snapElements[j].width, m = c.snapElements[j].top, n = m + c.snapElements[j].height; if (!(k - e < f && f < l + e && m - e < h && h < n + e || k - e < f && f < l + e && m - e < i && i < n + e || k - e < g && g < l + e && m - e < h && h < n + e || k - e < g && g < l + e && m - e < i && i < n + e)) { c.snapElements[j].snapping && c.options.snap.release && c.options.snap.release.call(c.element, a, $.extend(c._uiHash(), { snapItem: c.snapElements[j].item })), c.snapElements[j].snapping = !1; continue } if (d.snapMode != "inner") { var o = Math.abs(m - i) <= e, p = Math.abs(n - h) <= e, q = Math.abs(k - g) <= e, r = Math.abs(l - f) <= e; o && (b.position.top = c._convertPositionTo("relative", { top: m - c.helperProportions.height, left: 0 }).top - c.margins.top), p && (b.position.top = c._convertPositionTo("relative", { top: n, left: 0 }).top - c.margins.top), q && (b.position.left = c._convertPositionTo("relative", { top: 0, left: k - c.helperProportions.width }).left - c.margins.left), r && (b.position.left = c._convertPositionTo("relative", { top: 0, left: l }).left - c.margins.left) } var s = o || p || q || r; if (d.snapMode != "outer") { var o = Math.abs(m - h) <= e, p = Math.abs(n - i) <= e, q = Math.abs(k - f) <= e, r = Math.abs(l - g) <= e; o && (b.position.top = c._convertPositionTo("relative", { top: m, left: 0 }).top - c.margins.top), p && (b.position.top = c._convertPositionTo("relative", { top: n - c.helperProportions.height, left: 0 }).top - c.margins.top), q && (b.position.left = c._convertPositionTo("relative", { top: 0, left: k }).left - c.margins.left), r && (b.position.left = c._convertPositionTo("relative", { top: 0, left: l - c.helperProportions.width }).left - c.margins.left) } !c.snapElements[j].snapping && (o || p || q || r || s) && c.options.snap.snap && c.options.snap.snap.call(c.element, a, $.extend(c._uiHash(), { snapItem: c.snapElements[j].item })), c.snapElements[j].snapping = o || p || q || r || s } } }), $.ui.plugin.add("draggable", "stack", { start: function (a, b) { var c = $(this).data("draggable").options, d = $.makeArray($(c.stack)).sort(function (a, b) { return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0) }); if (!d.length) return; var e = parseInt(d[0].style.zIndex) || 0; $(d).each(function (a) { this.style.zIndex = e + a }), this[0].style.zIndex = e + d.length } }), $.ui.plugin.add("draggable", "zIndex", { start: function (a, b) { var c = $(b.helper), d = $(this).data("draggable").options; c.css("zIndex") && (d._zIndex = c.css("zIndex")), c.css("zIndex", d.zIndex) }, stop: function (a, b) { var c = $(this).data("draggable").options; c._zIndex && $(b.helper).css("zIndex", c._zIndex) } }) }(jQuery), function ($, a) { var b = 5; $.widget("ui.slider", $.ui.mouse, { widgetEventPrefix: "slide", options: { animate: !1, distance: 0, max: 100, min: 0, orientation: "horizontal", range: !1, step: 1, value: 0, values: null }, _create: function () { var a = this, c = this.options, d = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), e = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>", f = c.values && c.values.length || 1, g = []; this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all" + (c.disabled ? " ui-slider-disabled ui-disabled" : "")), this.range = $([]), c.range && (c.range === !0 && (c.values || (c.values = [this._valueMin(), this._valueMin()]), c.values.length && c.values.length !== 2 && (c.values = [c.values[0], c.values[0]])), this.range = $("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header" + (c.range === "min" || c.range === "max" ? " ui-slider-range-" + c.range : ""))); for (var h = d.length; h < f; h += 1) g.push(e); this.handles = d.add($(g.join("")).appendTo(a.element)), this.handle = this.handles.eq(0), this.handles.add(this.range).filter("a").click(function (a) { a.preventDefault() }).hover(function () { c.disabled || $(this).addClass("ui-state-hover") }, function () { $(this).removeClass("ui-state-hover") }).focus(function () { c.disabled ? $(this).blur() : ($(".ui-slider .ui-state-focus").removeClass("ui-state-focus"), $(this).addClass("ui-state-focus")) }).blur(function () { $(this).removeClass("ui-state-focus") }), this.handles.each(function (a) { $(this).data("index.ui-slider-handle", a) }), this.handles.keydown(function (c) { var d = $(this).data("index.ui-slider-handle"), e, f, g, h; if (a.options.disabled) return; switch (c.keyCode) { case $.ui.keyCode.HOME: case $.ui.keyCode.END: case $.ui.keyCode.PAGE_UP: case $.ui.keyCode.PAGE_DOWN: case $.ui.keyCode.UP: case $.ui.keyCode.RIGHT: case $.ui.keyCode.DOWN: case $.ui.keyCode.LEFT: c.preventDefault(); if (!a._keySliding) { a._keySliding = !0, $(this).addClass("ui-state-active"), e = a._start(c, d); if (e === !1) return } } h = a.options.step, a.options.values && a.options.values.length ? f = g = a.values(d) : f = g = a.value(); switch (c.keyCode) { case $.ui.keyCode.HOME: g = a._valueMin(); break; case $.ui.keyCode.END: g = a._valueMax(); break; case $.ui.keyCode.PAGE_UP: g = a._trimAlignValue(f + (a._valueMax() - a._valueMin()) / b); break; case $.ui.keyCode.PAGE_DOWN: g = a._trimAlignValue(f - (a._valueMax() - a._valueMin()) / b); break; case $.ui.keyCode.UP: case $.ui.keyCode.RIGHT: if (f === a._valueMax()) return; g = a._trimAlignValue(f + h); break; case $.ui.keyCode.DOWN: case $.ui.keyCode.LEFT: if (f === a._valueMin()) return; g = a._trimAlignValue(f - h) } a._slide(c, d, g) }).keyup(function (b) { var c = $(this).data("index.ui-slider-handle"); a._keySliding && (a._keySliding = !1, a._stop(b, c), a._change(b, c), $(this).removeClass("ui-state-active")) }), this._refreshValue(), this._animateOff = !1 }, destroy: function () { return this.handles.remove(), this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"), this._mouseDestroy(), this }, _mouseCapture: function (a) { var b = this.options, c, d, e, f, g, h, i, j, k; return b.disabled ? !1 : (this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }, this.elementOffset = this.element.offset(), c = { x: a.pageX, y: a.pageY }, d = this._normValueFromMouse(c), e = this._valueMax() - this._valueMin() + 1, g = this, this.handles.each(function (a) { var b = Math.abs(d - g.values(a)); e > b && (e = b, f = $(this), h = a) }), b.range === !0 && this.values(1) === b.min && (h += 1, f = $(this.handles[h])), i = this._start(a, h), i === !1 ? !1 : (this._mouseSliding = !0, g._handleIndex = h, f.addClass("ui-state-active").focus(), j = f.offset(), k = !$(a.target).parents().andSelf().is(".ui-slider-handle"), this._clickOffset = k ? { left: 0, top: 0 } : { left: a.pageX - j.left - f.width() / 2, top: a.pageY - j.top - f.height() / 2 - (parseInt(f.css("borderTopWidth"), 10) || 0) - (parseInt(f.css("borderBottomWidth"), 10) || 0) + (parseInt(f.css("marginTop"), 10) || 0) }, this.handles.hasClass("ui-state-hover") || this._slide(a, h, d), this._animateOff = !0, !0)) }, _mouseStart: function (a) { return !0 }, _mouseDrag: function (a) { var b = { x: a.pageX, y: a.pageY }, c = this._normValueFromMouse(b); return this._slide(a, this._handleIndex, c), !1 }, _mouseStop: function (a) { return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(a, this._handleIndex), this._change(a, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1 }, _detectOrientation: function () { this.orientation = this.options.orientation === "vertical" ? "vertical" : "horizontal" }, _normValueFromMouse: function (a) { var b, c, d, e, f; return this.orientation === "horizontal" ? (b = this.elementSize.width, c = a.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (b = this.elementSize.height, c = a.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), d = c / b, d > 1 && (d = 1), d < 0 && (d = 0), this.orientation === "vertical" && (d = 1 - d), e = this._valueMax() - this._valueMin(), f = this._valueMin() + d * e, this._trimAlignValue(f) }, _start: function (a, b) { var c = { handle: this.handles[b], value: this.value() }; return this.options.values && this.options.values.length && (c.value = this.values(b), c.values = this.values()), this._trigger("start", a, c) }, _slide: function (a, b, c) { var d, e, f; this.options.values && this.options.values.length ? (d = this.values(b ? 0 : 1), this.options.values.length === 2 && this.options.range === !0 && (b === 0 && c > d || b === 1 && c < d) && (c = d), c !== this.values(b) && (e = this.values(), e[b] = c, f = this._trigger("slide", a, { handle: this.handles[b], value: c, values: e }), d = this.values(b ? 0 : 1), f !== !1 && this.values(b, c, !0))) : c !== this.value() && (f = this._trigger("slide", a, { handle: this.handles[b], value: c }), f !== !1 && this.value(c)) }, _stop: function (a, b) { var c = { handle: this.handles[b], value: this.value() }; this.options.values && this.options.values.length && (c.value = this.values(b), c.values = this.values()), this._trigger("stop", a, c) }, _change: function (a, b) { if (!this._keySliding && !this._mouseSliding) { var c = { handle: this.handles[b], value: this.value() }; this.options.values && this.options.values.length && (c.value = this.values(b), c.values = this.values()), this._trigger("change", a, c) } }, value: function (a) { if (arguments.length) { this.options.value = this._trimAlignValue(a), this._refreshValue(), this._change(null, 0); return } return this._value() }, values: function (a, b) { var c, d, e; if (arguments.length > 1) { this.options.values[a] = this._trimAlignValue(b), this._refreshValue(), this._change(null, a); return } if (!arguments.length) return this._values(); if (!$.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(a) : this.value(); c = this.options.values, d = arguments[0]; for (e = 0; e < c.length; e += 1) c[e] = this._trimAlignValue(d[e]), this._change(null, e); this._refreshValue() }, _setOption: function (a, b) { var c, d = 0; $.isArray(this.options.values) && (d = this.options.values.length), $.Widget.prototype._setOption.apply(this, arguments); switch (a) { case "disabled": b ? (this.handles.filter(".ui-state-focus").blur(), this.handles.removeClass("ui-state-hover"), this.handles.propAttr("disabled", !0), this.element.addClass("ui-disabled")) : (this.handles.propAttr("disabled", !1), this.element.removeClass("ui-disabled")); break; case "orientation": this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue(); break; case "value": this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1; break; case "values": this._animateOff = !0, this._refreshValue(); for (c = 0; c < d; c += 1) this._change(null, c); this._animateOff = !1 } }, _value: function () { var a = this.options.value; return a = this._trimAlignValue(a), a }, _values: function (a) { var b, c, d; if (arguments.length) return b = this.options.values[a], b = this._trimAlignValue(b), b; c = this.options.values.slice(); for (d = 0; d < c.length; d += 1) c[d] = this._trimAlignValue(c[d]); return c }, _trimAlignValue: function (a) { if (a <= this._valueMin()) return this._valueMin(); if (a >= this._valueMax()) return this._valueMax(); var b = this.options.step > 0 ? this.options.step : 1, c = (a - this._valueMin()) % b, d = a - c; return Math.abs(c) * 2 >= b && (d += c > 0 ? b : -b), parseFloat(d.toFixed(5)) }, _valueMin: function () { return this.options.min }, _valueMax: function () { return this.options.max }, _refreshValue: function () { var a = this.options.range, b = this.options, c = this, d = this._animateOff ? !1 : b.animate, e, f = {}, g, h, i, j; this.options.values && this.options.values.length ? this.handles.each(function (a, h) { e = (c.values(a) - c._valueMin()) / (c._valueMax() - c._valueMin()) * 100, f[c.orientation === "horizontal" ? "left" : "bottom"] = e + "%", $(this).stop(1, 1)[d ? "animate" : "css"](f, b.animate), c.options.range === !0 && (c.orientation === "horizontal" ? (a === 0 && c.range.stop(1, 1)[d ? "animate" : "css"]({ left: e + "%" }, b.animate), a === 1 && c.range[d ? "animate" : "css"]({ width: e - g + "%" }, { queue: !1, duration: b.animate })) : (a === 0 && c.range.stop(1, 1)[d ? "animate" : "css"]({ bottom: e + "%" }, b.animate), a === 1 && c.range[d ? "animate" : "css"]({ height: e - g + "%" }, { queue: !1, duration: b.animate }))), g = e }) : (h = this.value(), i = this._valueMin(), j = this._valueMax(), e = j !== i ? (h - i) / (j - i) * 100 : 0, f[c.orientation === "horizontal" ? "left" : "bottom"] = e + "%", this.handle.stop(1, 1)[d ? "animate" : "css"](f, b.animate), a === "min" && this.orientation === "horizontal" && this.range.stop(1, 1)[d ? "animate" : "css"]({ width: e + "%" }, b.animate), a === "max" && this.orientation === "horizontal" && this.range[d ? "animate" : "css"]({ width: 100 - e + "%" }, { queue: !1, duration: b.animate }), a === "min" && this.orientation === "vertical" && this.range.stop(1, 1)[d ? "animate" : "css"]({ height: e + "%" }, b.animate), a === "max" && this.orientation === "vertical" && this.range[d ? "animate" : "css"]({ height: 100 - e + "%" }, { queue: !1, duration: b.animate })) } }), $.extend($.ui.slider, { version: "1.8.22" }) }(jQuery)
          })(jQuery);
          (function ($) {
              var a = function () {
                  var a = {}, b, c = 65, d, e = '<div class="colorpicker round"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" class="round picker_hex" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" class="round" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" class="round" /><span></span></div><button class="colorpicker_submit"></button></div>', f = {
                      eventName: "click",
                      onShow: function () {
                      },
                      onBeforeShow: function () {
                      },
                      onHide: function () {
                      },
                      onChange: function () {
                      },
                      onSubmit: function () {
                      },
                      color: "ff0000",
                      livePreview: !0,
                      flat: !1,
                      submitText: "Done"
                  }, g = function (a, b) {
                      var c = N(a);
                      $(b).data("colorpicker").fields.eq(1).val(c.r).end().eq(2).val(c.g).end().eq(3).val(c.b).end()
                  }, h = function (a, b) { $(b).data("colorpicker").fields.eq(4).val(a.h).end().eq(5).val(a.s).end().eq(6).val(a.b).end() }, i = function (a, b) { $(b).data("colorpicker").fields.eq(0).val(P(a)).end() }, j = function (a, b) { $(b).data("colorpicker").selector.css("backgroundColor", "#" + P({ h: a.h, s: 100, b: 100 })), $(b).data("colorpicker").selectorIndic.css({ left: parseInt(150 * a.s / 100, 10), top: parseInt(150 * (100 - a.b) / 100, 10) }) }, k = function (a, b) { $(b).data("colorpicker").hue.css("top", parseInt(150 - 150 * a.h / 360, 10)) }, l = function (a, b) { $(b).data("colorpicker").currentColor.css("backgroundColor", "#" + P(a)) }, m = function (a, b) { $(b).data("colorpicker").newColor.css("backgroundColor", "#" + P(a)) }, n = function (a) {
                      var b = a.charCode || a.keyCode || -1;
                      if (b > c && b <= 90 || b == 32) return !1;
                      var d = $(this).parent().parent();
                      d.data("colorpicker").livePreview === !0 && o.apply(this)
                  }, o = function (a) {
                      var b = $(this).parent().parent(), c;
                      this.parentNode.className.indexOf("_hex") > 0 ? b.data("colorpicker").color = c = L(J(this.value)) : this.parentNode.className.indexOf("_hsb") > 0 ? b.data("colorpicker").color = c = H({ h: parseInt(b.data("colorpicker").fields.eq(4).val(), 10), s: parseInt(b.data("colorpicker").fields.eq(5).val(), 10), b: parseInt(b.data("colorpicker").fields.eq(6).val(), 10) }) : b.data("colorpicker").color = c = M(I({ r: parseInt(b.data("colorpicker").fields.eq(1).val(), 10), g: parseInt(b.data("colorpicker").fields.eq(2).val(), 10), b: parseInt(b.data("colorpicker").fields.eq(3).val(), 10) })), a && (g(c, b.get(0)), i(c, b.get(0)), h(c, b.get(0))), j(c, b.get(0)), k(c, b.get(0)), m(c, b.get(0)), b.data("colorpicker").onChange.apply(b, [c, P(c), N(c)])
                  }, p = function (a) {
                      var b = $(this).parent().parent();
                      b.data("colorpicker").fields.parent().removeClass("colorpicker_focus")
                  }, q = function () { c = this.parentNode.className.indexOf("_hex") > 0 ? 70 : 65, $(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"), $(this).parent().addClass("colorpicker_focus") }, r = function (a) {
                      var b = $(this).parent().find("input").focus(), c = { el: $(this).parent().addClass("colorpicker_slider"), max: this.parentNode.className.indexOf("_hsb_h") > 0 ? 360 : this.parentNode.className.indexOf("_hsb") > 0 ? 100 : 255, y: a.pageY, field: b, val: parseInt(b.val(), 10), preview: $(this).parent().parent().data("colorpicker").livePreview };
                      $(document).bind("mouseup", c, t), $(document).bind("mousemove", c, s), $(document).bind("mousedown", c, s)
                  }, s = function (a) { return a.data.field.val(Math.max(0, Math.min(a.data.max, parseInt(a.data.val + a.pageY - a.data.y, 10)))), a.data.preview && o.apply(a.data.field.get(0), [!0]), !1 }, t = function (a) { return o.apply(a.data.field.get(0), [!0]), a.data.el.removeClass("colorpicker_slider").find("input").focus(), $(document).unbind("mouseup", t), $(document).unbind("mousemove", s), $(document).unbind("mousedown", s), !1 }, u = function (a) {
                      var b = { cal: $(this).parent(), y: $(this).offset().top };
                      b.preview = b.cal.data("colorpicker").livePreview, $(document).bind("mouseup", b, w), $(document).bind("mousemove", b, v), $(document).bind("mousedown", b, v)
                  }, v = function (a) { return o.apply(a.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360 * (150 - Math.max(0, Math.min(150, a.pageY - a.data.y))) / 150, 10)).get(0), [a.data.preview]), !1 }, w = function (a) { return g(a.data.cal.data("colorpicker").color, a.data.cal.get(0)), i(a.data.cal.data("colorpicker").color, a.data.cal.get(0)), $(document).unbind("mouseup", w), $(document).unbind("mousemove", v), $(document).unbind("mousedown", v), !1 }, x = function (a) {
                      var b = { cal: $(this).parent(), pos: $(this).offset() };
                      b.preview = b.cal.data("colorpicker").livePreview, $(document).bind("mouseup", b, z), $(document).bind("mousemove", b, y), $(document).bind("mousedown", b, y)
                  }, y = function (a) { return o.apply(a.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100 * (150 - Math.max(0, Math.min(150, a.pageY - a.data.pos.top))) / 150, 10)).end().eq(5).val(parseInt(100 * Math.max(0, Math.min(150, a.pageX - a.data.pos.left)) / 150, 10)).get(0), [a.data.preview]), !1 }, z = function (a) { return g(a.data.cal.data("colorpicker").color, a.data.cal.get(0)), i(a.data.cal.data("colorpicker").color, a.data.cal.get(0)), $(document).unbind("mouseup", z), $(document).unbind("mousemove", y), $(document).unbind("mousedown", y), !1 }, A = function (a) { $(this).addClass("colorpicker_focus") }, B = function (a) { $(this).removeClass("colorpicker_focus") }, C = function (a) {
                      var b = $(this).parent(), c = b.data("colorpicker").color;
                      return b.data("colorpicker").origColor = c, l(c, b.get(0)), b.data("colorpicker").onSubmit(c, P(c), N(c), b.data("colorpicker").el), a.preventDefault(), !1
                  }, D = function (a) {
                      var b = $("#" + $(this).data("colorpickerId"));
                      b.data("colorpicker").onBeforeShow.apply(this, [b.get(0)]);
                      var c = $(this).offset(), d = G(), e = c.top + this.offsetHeight, f = c.left;
                      return e + 176 > d.t + d.h && (e -= this.offsetHeight + 176), f + 356 > d.l + d.w && (f -= 356), b.css({ left: f + "px", top: e + "px" }), b.data("colorpicker").onShow.apply(this, [b.get(0)]) != 0 && b.show(), $(document).bind("mousedown", { cal: b }, E), !1
                  }, E = function (a) {
                      if (!F(a.data.cal.get(0), a.target, a.data.cal.get(0))) {
                          var b = P(a.data.cal.data("colorpicker").color);
                          a.data.cal.data("colorpicker").onHide(a.data.cal.get(0), b) != 0 && a.data.cal.hide(), $(document).unbind("mousedown", E)
                      }
                  }, F = function (a, b, c) {
                      if (a == b) return !0;
                      if (a.contains) return a.contains(b);
                      if (a.compareDocumentPosition) return !!(a.compareDocumentPosition(b) & 16);
                      var d = b.parentNode;
                      while (d && d != c) {
                          if (d == a) return !0;
                          d = d.parentNode
                      }
                      return !1
                  }, G = function () {
                      var a = document.compatMode == "CSS1Compat";
                      return { l: window.pageXOffset || (a ? document.documentElement.scrollLeft : document.body.scrollLeft), t: window.pageYOffset || (a ? document.documentElement.scrollTop : document.body.scrollTop), w: window.innerWidth || (a ? document.documentElement.clientWidth : document.body.clientWidth), h: window.innerHeight || (a ? document.documentElement.clientHeight : document.body.clientHeight) }
                  }, H = function (a) { return { h: Math.min(360, Math.max(0, a.h)), s: Math.min(100, Math.max(0, a.s)), b: Math.min(100, Math.max(0, a.b)) } }, I = function (a) { return { r: Math.min(255, Math.max(0, a.r)), g: Math.min(255, Math.max(0, a.g)), b: Math.min(255, Math.max(0, a.b)) } }, J = function (a) {
                      var b = 6 - a.length;
                      if (b > 0) {
                          var c = [];
                          for (var d = 0; d < b; d++) c.push("0");
                          c.push(a), a = c.join("")
                      }
                      return a
                  }, K = function (a) {
                      var a = parseInt(a.indexOf("#") > -1 ? a.substring(1) : a, 16);
                      return { r: a >> 16, g: (a & 65280) >> 8, b: a & 255 }
                  }, L = function (a) { return M(K(a)) }, M = function (a) {
                      var b = { h: 0, s: 0, b: 0 }, c = Math.min(a.r, a.g, a.b), d = Math.max(a.r, a.g, a.b), e = d - c;
                      return b.b = d, d == 0, b.s = d != 0 ? 255 * e / d : 0, b.s != 0 ? a.r == d ? b.h = (a.g - a.b) / e : a.g == d ? b.h = 2 + (a.b - a.r) / e : b.h = 4 + (a.r - a.g) / e : b.h = -1, b.h *= 60, b.h < 0 && (b.h += 360), b.s *= 100 / 255, b.b *= 100 / 255, b
                  }, N = function (a) {
                      var b = {}, c = Math.round(a.h), d = Math.round(a.s * 255 / 100), e = Math.round(a.b * 255 / 100);
                      if (d == 0) b.r = b.g = b.b = e;
                      else {
                          var f = e, g = (255 - d) * e / 255, h = (f - g) * (c % 60) / 60;
                          c == 360 && (c = 0), c < 60 ? (b.r = f, b.b = g, b.g = g + h) : c < 120 ? (b.g = f, b.b = g, b.r = f - h) : c < 180 ? (b.g = f, b.r = g, b.b = g + h) : c < 240 ? (b.b = f, b.r = g, b.g = f - h) : c < 300 ? (b.b = f, b.g = g, b.r = g + h) : c < 360 ? (b.r = f, b.g = g, b.b = f - h) : (b.r = 0, b.g = 0, b.b = 0)
                      }
                      return { r: Math.round(b.r), g: Math.round(b.g), b: Math.round(b.b) }
                  }, O = function (a) {
                      var b = [a.r.toString(16), a.g.toString(16), a.b.toString(16)];
                      return $.each(b, function (a, c) { c.length == 1 && (b[a] = "0" + c) }), b.join("")
                  }, P = function (a) { return O(N(a)) }, Q = function () {
                      var a = $(this).parent(), b = a.data("colorpicker").origColor;
                      a.data("colorpicker").color = b, g(b, a.get(0)), i(b, a.get(0)), h(b, a.get(0)), j(b, a.get(0)), k(b, a.get(0)), m(b, a.get(0))
                  };
                  return {
                      init: function (a) {
                          a = $.extend({}, f, a || {});
                          if (typeof a.color == "string") a.color = L(a.color);
                          else if (a.color.r != undefined && a.color.g != undefined && a.color.b != undefined) a.color = M(a.color);
                          else {
                              if (a.color.h == undefined || a.color.s == undefined || a.color.b == undefined) return this;
                              a.color = H(a.color)
                          }
                          return this.each(function () {
                              if (!$(this).data("colorpickerId")) {
                                  var b = $.extend({}, a);
                                  b.origColor = a.color;
                                  var c = "collorpicker_" + parseInt(Math.random() * 1e3);
                                  $(this).data("colorpickerId", c);
                                  var d = $(e).attr("id", c);
                                  b.flat ? d.appendTo(this).show() : d.appendTo(document.body), b.fields = d.find("input").bind("keyup", n).bind("change", o).bind("blur", p).bind("focus", q), d.find("span").bind("mousedown", r).end().find(">div.colorpicker_current_color").bind("click", Q), b.selector = d.find("div.colorpicker_color").bind("mousedown", x), b.selectorIndic = b.selector.find("div div"), b.el = this, b.hue = d.find("div.colorpicker_hue div"), d.find("div.colorpicker_hue").bind("mousedown", u), b.newColor = d.find("div.colorpicker_new_color"), b.currentColor = d.find("div.colorpicker_current_color"), d.data("colorpicker", b);
                                  var f = d.find(".colorpicker_submit");
                                  f.bind("mouseenter", A).bind("mouseleave", B).bind("click", C), f.text(b.submitText || "Done"), g(b.color, d.get(0)), h(b.color, d.get(0)), i(b.color, d.get(0)), k(b.color, d.get(0)), j(b.color, d.get(0)), l(b.color, d.get(0)), m(b.color, d.get(0)), b.flat ? d.css({ position: "relative", display: "block" }) : $(this).bind(b.eventName, D)
                              }
                          })
                      },
                      showPicker: function () { return this.each(function () { $(this).data("colorpickerId") && D.apply(this) }) },
                      hidePicker: function () { return this.each(function () { $(this).data("colorpickerId") && $("#" + $(this).data("colorpickerId")).hide() }) },
                      setColor: function (a) {
                          if (typeof a == "string") a = L(a);
                          else if (a.r != undefined && a.g != undefined && a.b != undefined) a = M(a);
                          else {
                              if (a.h == undefined || a.s == undefined || a.b == undefined) return this;
                              a = H(a)
                          }
                          return this.each(function () {
                              if ($(this).data("colorpickerId")) {
                                  var b = $("#" + $(this).data("colorpickerId"));
                                  b.data("colorpicker").color = a, b.data("colorpicker").origColor = a, g(a, b.get(0)), h(a, b.get(0)), i(a, b.get(0)), k(a, b.get(0)), j(a, b.get(0)), l(a, b.get(0)), m(a, b.get(0))
                              }
                          })
                      },
                      rgb2hex: function (a) {
                      }
                  }
              }();
              $.fn.extend({ ColorPicker: a.init, ColorPickerHide: a.hidePicker, ColorPickerShow: a.showPicker, ColorPickerSetColor: a.setColor });
          })(jQuery);
 </script>
    <script type="text/javascript" src="~/signalr/hubs"></script>
    @Scripts.Render("~/bundles/Homepage")
  

</body>
</html>
